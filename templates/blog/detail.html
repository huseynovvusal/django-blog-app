{% extends 'base.html' %}

{% block title %}{{ blog.title }} - The Chronicle{% endblock %}

{% block content %}
<article class="max-w-2xl mx-auto py-12">
    <!-- Clean Header -->
    <header class="text-center mb-16 border-b border-gray-200 pb-12">
        <p class="font-ui text-sm uppercase tracking-widest text-amber-700 font-medium mb-4">{{ blog.created_at|date:"F j, Y" }}</p>
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight mb-6 serif">{{ blog.title }}</h1>
        <div class="flex justify-center items-center gap-2 font-ui text-sm text-gray-500">
            <span class="w-8 h-[1px] bg-gray-300"></span>
            <span>By {{ blog.author.username }}</span>
            <span class="w-8 h-[1px] bg-gray-300"></span>
        </div>
    </header>

    <!-- HTML Content (Rendered directly) -->
    <div class="markdown-body font-serif text-lg leading-loose text-gray-800 tracking-wide selection:bg-amber-100 selection:text-amber-900">
        {{ blog.content|safe }}
    </div>
</article>

<!-- Actions -->
{% if user == blog.author %}
<div class="fixed bottom-10 right-10">
    <button class="bg-amber-800 text-white p-4 rounded-none shadow-xl hover:bg-amber-900 transition-colors font-ui uppercase tracking-widest text-xs font-bold" title="Edit this entry">
        Edit
    </button>
</div>
{% endif %}
{% endblock %}

{% block scripts %}
<style>
    /* Custom Serif Content Styling extended for HTML cleanup */
    .markdown-body h1, .markdown-body h2, .markdown-body h3 { @apply font-bold mt-12 mb-6 text-gray-900 leading-tight; }
    .markdown-body h1 { @apply text-3xl border-b border-amber-900/10 pb-2; }
    .markdown-body h2 { @apply text-2xl; }
    .markdown-body p { @apply mb-8 text-lg text-gray-800 leading-relaxed; }
    .markdown-body ul { @apply list-disc list-outside mb-8 ml-6 marker:text-amber-700; }
    .markdown-body ol { @apply list-decimal list-outside mb-8 ml-6 marker:text-amber-700; }
    .markdown-body blockquote { @apply border-l-2 border-amber-700 pl-6 my-8 italic text-amber-900 bg-amber-50/50 py-2 pr-4; }
    .markdown-body a { @apply text-amber-800 underline decoration-amber-300 underline-offset-2 hover:text-amber-900 hover:decoration-amber-500 transition-all; }
    .markdown-body strong { @apply font-bold text-gray-900; }
    
    /* Code Blocks matching the theme */
    .markdown-body pre { @apply bg-[#f4f1ea] border border-[#e8dac1] rounded-sm p-5 overflow-x-auto text-sm my-8 shadow-inner font-mono; }
</style>
{% endblock %}
